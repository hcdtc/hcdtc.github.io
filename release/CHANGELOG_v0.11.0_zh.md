# Changelog

本文档记录了Choerodon 0.11.0 中 **知识管理、敏捷管理、微服务开发框架、持续交付、测试管理**等功能的优化和BUG修复记录。

## 知识管理

### [0.11.0] - 2018-11-23

### 新增

- 新增在Wiki中创建空间的功能。
- 新增空间弹出框的空间搜索功能。
- 新增文档收藏功能。
- 新增Choerodon平台的组织和项目首页的Wiki空间组件。
- 新增分享按钮，可以直接复制页面短链接。
- 新增Wiki可以配置邮件服务器，能够使用邮件通知和邮件分享功能。
- 新增Wiki的logo和favicon可以根据Choerodon平台的设置同步设置的功能。
- 新增Choerodon平台分配平台管理员时，Wiki同步分配系统管理员的功能。

### 修改

- 修改Wiki页面复制成功之后直接跳转到复制目标页。
- 修改Wiki页面移动成功之后直接跳转到移动目标页。
- 修改Wiki页面删除成功之后跳转到其父页面。
- Wiki管理菜单现在提到了组织和项目的顶层，并增加了Wiki空间菜单。
- 修改了搜索的弹出框和搜索页面的样式。
- 修改了404、403的页面样式。
- 修改了所有更新、热门、最近工作、最近访问、所有空间、最近空间为异步加载，提高页面加载性能。
- 修改了用户信息页样式。
- 页面的编辑等功能按钮移动到了靠左的位置。

### 修复

- 修复Wiki文章的内容块区域互相遮挡的问题。
- 修复Wiki创建页面在没有填写标题的情况下也能创建成功的问题。
- 修复Wiki编辑器添加的issue宏，url中没有项目名的问题。
- 修复Wiki的通知信息，用户没办法删除的问题。
- 修复创建页面的模板描述太长的问题。
- 修复创建页面树状浏览器选择出现不应该出现的页面的问题。
- 修复创建页面树状浏览器选择没办法选择到组织的问题。

### 删除
- 删除了Wiki中无用的宏。

## 敏捷管理

### [0.11.0] - 2018-11-23

### 新增

- 新增站内信通知功能：用户可以在组织层对问题创建、问题分配、问题解决3个事件分配对应的通知对象。
- 新增时区日历功能：用户可以在组织层设置时区、节假日、工作日并应用在敏捷管理中。
- 新增版本管理搜索功能：版本管理列表增加字段搜索功能。
- 新增模块管理搜索功能：模块管理列表增加字段搜索功能。
- 新增冲刺工作日功能：用户可以在开启冲刺选择日期的时候，勾选当前冲刺期间的工作日与非工作日。
- 新增燃尽图期望值工作日筛选功能：用户可以在查看燃尽图的时候对期望值进行工作日与非工作日展示。

### 修改

- 问题管理新增字段展示、字段搜索、字段排序。
- 问题管理支持自定义筛选。
- 问题管理界面子任务也显示在列表中。
- 活跃冲刺中的问题拖到其他位置，问题及其子任务全部还原到状态机初始状态。
- 问题详情表单页面优化。
- 产品全局图标优化。
- 活跃冲刺界面展示优化。
- 待办事项史诗计数详情优化。
- 日历样式与操作优化。
- 日历工作日与节假日按年份返回当前年份及下一年份数据。
- 问题链接列表显示经办人信息。
- 迭代速度图未开启的冲刺不统计。
- 修改问题信息的时候，可以通过回车或者点击空白处进行保存输入的数据。
- 创建冲刺后页面增加引导性提示。
- 故事、任务、史诗、子任务和缺陷图标修改。
- 活跃冲刺剩余时间运用日历设置。
- 活跃冲刺切换工作台按钮样式修改。
- 故事地图中移除问题添加验证。
- 优化待办事项创建问题请求。
- 隐藏看板配置删除状态功能

### 修复

- 修复问题管理中工作日志时间登记后页面数据没有更新的问题。
- 问题管理问题列表中添加经办人。
- 问题管理筛选条件中添加按标签搜索。
- 修复待办事项版本、史诗排序错误。
- 修复活跃冲刺及迭代工作台剩余时间计算错误。
- 修复版本报告缓存没有及时更新的问题。
- 修复活跃冲刺中同列多个状态拖动白屏的问题。
- 问题详情中不输入值可以直接创建问题链接。
- 修复问题转换为子任务状态颜色不正确的问题。
- 修复问题详情页面组件没有对齐的问题。
- 修复发布版本跳转未解决问题列表筛选错误的问题。
- 修复链接地址中未做转码处理导致请求重复的问题。
- 修复发布版本的问题列表中子任务图标错误。
- 修复活跃冲刺的问题卡片无史诗样式问题。
- 修复燃尽图报告点击子任务进入的是父任务详情的问题。
- 修复史诗和版本燃耗图中链接到问题管理，返回页面404的问题。
- 修复迭代工作台冲刺详情的表格一次加载全部数据，点击分页时重复加载数据的问题。
- 修复发布版本时统计未完成数量不正确的问题。

## 持续交付

### [0.11.0] - 2018-11-23

### 新增

- 新增集群管理模块，支持对Kubernetes集群的创建、编辑以及权限分配。
- 新增环境的权限分配功能，支持为各个环境配置特定的操作人员。
- 新增删除环境的功能，支持在环境停用区对环境进行删除操作。
- 开发流水线部分新增开发控制台，集成了开发流水线内主要的功能，能够更便捷地进行开发操作。
- 新增开发流水线代码仓库中查看代码质量的入口。
- Dashboard页面新增快速查看分支情况、代码提交情况、应用构建情况与部署情况的模块，并提供了快速跳转至相应模块的入口。
- 实例部分新增deployments层,且支持一个chart文件中存在多个deployments。
- 新增实例重新部署的功能。
- 新增报表中部署失败的错误信息。

### 修改

- 从之前“利用单个环境客户端管理单个环境”的模式变为使用“单个集群客户端可以统一管理多个环境”的模式。
- 重新整理优化开发流水线结构，统一以应用为中心进行操作。
- 重新整理优化部署流水线结构，统一以环境为中心进行操作。
- 优化了应用市场导出文件的命名，支持自定义命名。
- 优化统一了平台各个空界面。
- 优化了删除操作提示框，明确指出了删除对象名称。
- 完善了平台指导文案，加强初级用户的理解。
- 优化了删除实例后，关联网络列表中的目标对象内容。
- 优化了实例升级失败或新建失败后，列表中版本的显示问题。
- 优化了环境总览界面顶部创建操作按钮的显示。
- 优化了部署总览界面快速部署的图标显示。

### 修复

- 修复编辑应用名称时，未分辨输入字母的大小写的问题。
- 修复创建网络时，选择实例与选择应用的逻辑问题。
- 修复了偶现替换实例失败的问题。
- 修复了部署超时后无法操作的问题。
- 修复了创建域名时未校验环境的问题。
- 修复了创建应用失败后不能处理的问题。

### 删除

- 移除了项目中部署管理员角色，并将其所有权限分配给项目所有者。
- 移除了部署流水线实例管理中的部署实例与单应用视图。
- 移除了停止实例后的升级实例与重新部署的选项。

## 测试管理

### [0.11.0] - 2018-11-23

### 新增

- 测试用例新增使用模板excel导入功能。
- 测试用例新增导出功能。
- 测试执行详情新增翻页功能。

### 修改

- 测试执行导出改为异步修改，增加进度条。
- 配合敏捷服务修改部分接口。
- 测试用例文件夹复制和移动现在可进行批量操作。
- 测试阶段文件夹查看增加版本显示。
- 创建阶段有默认时间。
- 测试步骤可拖动滚动。
- 测试执行页面隐藏空循环。
- 测试摘要按版本显示从新到旧排序。
- 测试用例倒序排列。
- 将测试执行和测试计划侧边展开状态保存。
- 创建测试步骤不弹出新建页，在表格中插入新行进行编辑。
- 测试步骤复制图标改为按钮。
- 测试计划、测试执行表格的样式调整。
- 测试计划中克隆测试阶段可以跨循环、版本。

### 修复

- 修复测试用例文件夹复制拖动的不滚动的问题。
- 修复测试计划页面滚动底部的问题。
- 修复表格编辑保存时闪现旧值的问题。
- 修复了修改测试用例后不跳到第一页的问题。

## Choerodon微服务开发框架

### [0.11.0] - 2018-11-23

### 新增

**0.11.0显著新增特性**

- 平台界面增加`开始学习教程`，可按照教程快速了解Choerodon产品和服务
- 新增`快捷方式`，可添加常用功能界面至快捷方式，方便用户快速跳转页面。
- 新增系统配置，平台管理员可以对平台自定义设置。
- 新增快捷方式，用户可以快速跳转页面。
- 新增客户端角色分配，平台管理员、组织管理员和项目管理员可以为客户端分配操作权限。
- 新增消息接收设置，用户可以设置接收消息的类别。
- 新增仪表盘启停用，平台管理员可以启停用自己的仪表盘。
- 新增组织层、项目层任务调度。
- LDAP同步添加超时强制停止。

**控件0.4.2**

- 增加新的图标。
- `Table` 增加`noFilters`，用于阻止默认的过滤筛选功能。
- `Table.Column`: 增加`disableClick`, 用于 `Table` 筛选项禁用勾选。

**boot0.9.1**

- 新增右上角快捷方式。
- `AutoGuide`组件添加`onStart`回调

**框架的依赖0.7.0**

- 添加了单元测试
- 添加了发送业务类型扫描功能；邮件、短信的相关类及注解移到`core`包。
- 自定义`UserDetails`中添加`Client`信息。
- 添加`choerodon-starter-eureka-event` 模块。

### 修改

**0.11.0显著修改特性**

- 站内信修改为两类，分为消息和通知。
- 发送设置修改为可配置站内信类型。
- 客户端管理修改为默认生成名称、密码，并且用户可以在创建时定义访问授权超时、授权超时时间。
- 优化消息通知，增加用户头像显示。
- 优化新手指引，调整了步骤结构，增加了指引动画。

**控件0.4.2**

- `Tag`: 修复热门标签显示问题。

**boot0.9.1**

- 点击右上角消息通知的消息改为新开页。
- 菜单hover后颜色不再变蓝。
- 优化新手指引样式。
- token失效后现在会自动跳转至登陆认证页。

**框架依赖0.7.0**

- 将`test`，`spock`的依赖移到父模块中。
- 定时任务增加层级。

### 修复

**0.11.0显著修复特性**

- 修复API测试页面白屏的问题。
- 修复用户登录名不能为汉字。

**boot0.9.1**

- 修复`AutoGuide`组件可能会出现无法清除定时器的问题。

**框架的依赖**

- `FeignRequestInterceptor` 类型强转失败。

### 删除

- 删除组织层消息中心；

**框架的依赖0.7.0**

- 移除`choerodon-starter-hitoa`,`choerodon-starter-oauth-resource`的`cglib`依赖。
- 移除模块`choerodon-starter-bus`。
- 移除模块`choerodon-starter-config-monitor`。